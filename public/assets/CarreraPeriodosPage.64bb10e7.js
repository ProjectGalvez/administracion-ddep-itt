import{Q as b}from"./QPage.30c35a64.js";import{_ as x}from"./BreadcrumbNav.83440b84.js";import{Q as A,a as y}from"./QCard.c27ef320.js";import{Q as B}from"./QMarkupTable.1a93edc0.js";import{d as S}from"./documentosApi.5a915086.js";import{u as U}from"./useQuery.esm.07b4cbcd.js";import{_ as L}from"./LoaderSpinner.276bcf78.js";import{v as C,r as g,o as N,w as V,u as v,q as a,z as h,t as l,ab as $,d as p,A as i,s as n,ar as m,aa as _,F as f}from"./index.511ce7da.js";import"./use-dark.2ddafa12.js";import"./axios.a596eead.js";import"./useQueryClient.esm.18f38723.js";import"./utils.esm.c4fd8260.js";const z=async()=>{const{data:d}=await S.get("residentes-por-periodo");return d},D=()=>{const{isLoading:d,data:o,refetch:c}=U(["residentes-por-periodo"],z,{staleTime:36e5});return{isLoading:d,data:o,refetch:c}},F=i("div",{class:"fontsize-14"},"Estudiantes por carrera y por periodo",-1),M=i("th",null,"Periodos",-1),T=C({__name:"PorPeriodoCarrera",setup(d){const o=g(),c=g(),{data:e,isLoading:k,refetch:P}=D();N(()=>{P()});const Q=()=>{if(e.value){const t=new Set;e.value.forEach(s=>{t.add(s.carrera)}),o.value=Array.from(t)}},w=()=>{if(e.value){const t=new Set;e.value.forEach(s=>{t.add(s.periodo)}),c.value=Array.from(t)}};V(e,()=>{Q(),w()});const E=(t,s)=>{if(e){const r=e.value.find(u=>u.periodo===t&&u.carrera===s);return r?r.cantidad_estudiantes:0}return 0};return(t,s)=>v(k)?(a(),h(L,{key:0})):v(e)?(a(),h(A,{key:1},{default:l(()=>[p(y,null,{default:l(()=>[F]),_:1}),p(y,null,{default:l(()=>[p(B,null,{default:l(()=>[i("thead",null,[i("tr",null,[M,(a(!0),n(f,null,m(o.value,r=>(a(),n("th",{key:r},_(r),1))),128))])]),i("tbody",null,[(a(!0),n(f,null,m(c.value,r=>(a(),n("tr",{key:r},[i("td",null,_(r),1),(a(!0),n(f,null,m(o.value,u=>(a(),n("td",{key:u},_(E(r,u)),1))),128))]))),128))])]),_:1})]),_:1})]),_:1})):$("",!0)}}),Z=C({__name:"CarreraPeriodosPage",setup(d){const o=[{label:"Estad\xEDsticas",icon:"show_chart"}];return(c,e)=>(a(),h(b,{padding:""},{default:l(()=>[p(x,{pages:o,titlePage:"Residentes por periodo y por carrera"}),p(T)]),_:1}))}});export{Z as default};
