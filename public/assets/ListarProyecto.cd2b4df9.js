import{v as Q,x as C,r as y,q as n,s as _,d as t,u as a,z as P,t as i,A as e,aa as c,ab as E,F,ar as N,Q as f}from"./index.b0b93e3c.js";import{a as x,Q as w}from"./QCard.4818aad5.js";import{Q as L}from"./QPage.f47cc484.js";import{Q as T}from"./QBtnGroup.70024cb3.js";import{Q as A}from"./QMarkupTable.b45aab0d.js";import{Q as R}from"./QPagination.4a2bc93e.js";import{_ as S}from"./DialogEliminar.7a03cb45.js";import{_ as j}from"./LoaderSpinner.b1b399dd.js";import{d as D}from"./documentosApi.f427d296.js";import{u as M}from"./useEliminarRecurso.035d2b48.js";import{u as U}from"./useQuery.esm.ec0861c0.js";import{_ as G}from"./BreadcrumbNav.fba4b1cf.js";import"./use-dark.63c149ae.js";import"./QInput.11ecb308.js";import"./use-key-composition.18531db8.js";import"./uid.42677368.js";import"./focus-manager.05708ea9.js";import"./use-form.cb72d743.js";import"./format.2bc25e5f.js";import"./QCardActions.47971319.js";import"./QDialog.ca25ac9d.js";import"./use-prevent-scroll.71b3f740.js";import"./focusout.c03edb12.js";import"./ClosePopup.599d60b6.js";import"./axios.a596eead.js";import"./useQueryClient.esm.98cf75d6.js";import"./utils.esm.728a0fef.js";import"./useMutation.esm.16d51942.js";import"./mutation.esm.2cad5aca.js";const I=()=>M("/proyectos","Se elimin\xF3 el proyecto"),K={key:1},H=e("thead",null,[e("tr",null,[e("td",null,"Nombre del proyecto"),e("td",null,"Tipo"),e("td",null,"Carrera"),e("td",null,"Acci\xF3n")])],-1),J={class:"q-mt-xs flex justify-end items-center q-gutter-md"},O=Q({__name:"TablaProyecto",setup(b){const d=C(),l=y(!1),p=y(),u=y(1),g=async r=>{const{data:s}=await D.get("/proyectos",{params:{page:r.value,perPage:15,included:"carrera"}});return s},{isLoading:V,data:m}=U({queryKey:["proyectos",u],queryFn:()=>g(u),keepPreviousData:!0,staleTime:1e3*60*60}),{eliminarRecurso:$}=I(),z=r=>{l.value=!0,p.value=r},B=r=>{d.push({name:"ver-proyecto",params:{id:r}})},q=r=>{d.push({name:"editar-proyecto",params:{id:r}})};return(r,s)=>{var v;return n(),_("div",null,[t(S,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=o=>l.value=o),"recurso-id":p.value,onEliminar:a($)},null,8,["modelValue","recurso-id","onEliminar"]),a(V)?(n(),P(j,{key:0})):(v=a(m))!=null&&v.data?(n(),_("div",K,[t(A,null,{default:i(()=>[H,e("tbody",null,[(n(!0),_(F,null,N(a(m).data,o=>{var h;return n(),_("tr",{key:o.id},[e("td",null,c(o.nombre),1),e("td",null,c(o.tipo),1),e("td",null,c((h=o.carrera)==null?void 0:h.nombre),1),e("td",null,[t(T,{push:""},{default:i(()=>[t(f,{size:"sm",color:"info",push:"",glossy:"",icon:"visibility",onClick:k=>B(o.id)},null,8,["onClick"]),t(f,{size:"sm",color:"secondary",push:"",glossy:"",icon:"edit",onClick:k=>q(o.id)},null,8,["onClick"]),t(f,{size:"sm",color:"negative",push:"",glossy:"",icon:"delete",onClick:k=>z(o.id)},null,8,["onClick"])]),_:2},1024)])])}),128))])]),_:1}),e("div",J,[e("div",null,"Mostrando "+c(a(m).meta.to)+" de "+c(a(m).meta.total),1),t(R,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=o=>u.value=o),max:a(m).meta.last_page,"max-pages":6,"direction-links":"",push:"",color:"teal","active-design":"push","active-color":"orange"},null,8,["modelValue","max"])])])):E("",!0)])}}}),W={class:"flex justify-between items-center"},X=e("div",{class:"fontsize-15 text-weight-light"},"Proyectos",-1),$e=Q({__name:"ListarProyecto",setup(b){const d=C(),l=()=>{d.push({name:"crear-proyecto"})},p=[{label:"Proyectos",icon:"engineering"}];return(u,g)=>(n(),P(L,{padding:""},{default:i(()=>[t(G,{pages:p,titlePage:"Lista de proyectos"}),t(w,null,{default:i(()=>[t(x,null,{default:i(()=>[e("div",W,[X,t(f,{label:"Nuevo",icon:"add_circle_outline",color:"secondary",size:"md",padding:"xs",onClick:l})])]),_:1}),t(x,null,{default:i(()=>[t(O)]),_:1})]),_:1})]),_:1}))}});export{$e as default};
