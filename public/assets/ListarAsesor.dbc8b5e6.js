import{v as A,x as C,r as f,q as r,s as c,d as s,u as m,z as Q,t as a,ab as V,A as e,F,ar as w,aa as d,Q as p}from"./index.511ce7da.js";import{a as k,Q as L}from"./QCard.c27ef320.js";import{Q as N}from"./QPage.30c35a64.js";import{Q as P}from"./QBtnGroup.79c77c2f.js";import{Q as T}from"./QMarkupTable.1a93edc0.js";import{_ as q}from"./DialogEliminar.6699e732.js";import{_ as R}from"./LoaderSpinner.276bcf78.js";import{d as S}from"./documentosApi.5a915086.js";import{u as D}from"./useEliminarRecurso.17e7cd53.js";import{u as j}from"./useQuery.esm.07b4cbcd.js";import{_ as G}from"./BreadcrumbNav.83440b84.js";import"./use-dark.2ddafa12.js";import"./QCardActions.2508ac56.js";import"./QDialog.d254dd3f.js";import"./use-prevent-scroll.b0ece3de.js";import"./focusout.f4d95c7f.js";import"./focus-manager.05708ea9.js";import"./ClosePopup.41b92e43.js";import"./axios.a596eead.js";import"./useQueryClient.esm.18f38723.js";import"./utils.esm.c4fd8260.js";import"./useMutation.esm.1025419c.js";import"./mutation.esm.d177ca9b.js";const I=()=>D("/asesores","Se elimin\xF3 el asesor interno"),K={key:1},M=e("thead",null,[e("tr",null,[e("td",null,"Asesor"),e("td",null,"Tel\xE9fono"),e("td",null,"Email"),e("td",null,"Acci\xF3n")])],-1),U=A({__name:"TablaAsesores",setup(x){const i=C(),n=f(!1),l=f(),_=f(1),v=async t=>{const{data:u}=await S.get("/asesores",{params:{page:t.value,perPage:15}});return u},{isLoading:b,data:g}=j({queryKey:["asesores",_],queryFn:()=>v(_),keepPreviousData:!0,staleTime:1e3*60*60}),{eliminarRecurso:$}=I(),E=t=>{n.value=!0,l.value=t},z=t=>{i.push({name:"ver-asesor",params:{id:t}})},B=t=>{i.push({name:"editar-asesor",params:{id:t}})};return(t,u)=>{var y;return r(),c("div",null,[s(q,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=o=>n.value=o),"recurso-id":l.value,onEliminar:m($)},null,8,["modelValue","recurso-id","onEliminar"]),m(b)?(r(),Q(R,{key:0})):(y=m(g))!=null&&y.data?(r(),c("div",K,[s(T,null,{default:a(()=>[M,e("tbody",null,[(r(!0),c(F,null,w(m(g).data,o=>(r(),c("tr",{key:o.id},[e("td",null,d(o.nombre)+" "+d(o.apellidos),1),e("td",null,d(o.telefono),1),e("td",null,d(o.email),1),e("td",null,[s(P,{push:""},{default:a(()=>[s(p,{size:"sm",color:"info",push:"",glossy:"",icon:"visibility",onClick:h=>z(o.id)},null,8,["onClick"]),s(p,{size:"sm",color:"secondary",push:"",glossy:"",icon:"edit",onClick:h=>B(o.id)},null,8,["onClick"]),s(p,{size:"sm",color:"negative",push:"",glossy:"",icon:"delete",onClick:h=>E(o.id)},null,8,["onClick"])]),_:2},1024)])]))),128))])]),_:1})])):V("",!0)])}}}),H={class:"flex justify-between items-center"},J=e("div",{class:"fontsize-15 text-weight-light"},"Asesores internos",-1),ye=A({__name:"ListarAsesor",setup(x){const i=C(),n=()=>{i.push({name:"crear-asesor"})},l=[{label:"Asesores",icon:"supervisor_account"}];return(_,v)=>(r(),Q(N,{padding:""},{default:a(()=>[s(G,{pages:l,titlePage:"Lista de asesores"}),s(L,null,{default:a(()=>[s(k,null,{default:a(()=>[e("div",H,[J,s(p,{label:"Nuevo",icon:"add_circle_outline",color:"secondary",size:"md",padding:"xs",onClick:n})])]),_:1}),s(k,null,{default:a(()=>[s(U)]),_:1})]),_:1})]),_:1}))}});export{ye as default};
