import{Q as y}from"./QPage.6971c865.js";import{r as v,v as D,aq as h,x as k,q as n,z as p,t as S,d as x,u as e,s as z}from"./index.6aee2e30.js";import{_ as E}from"./BreadcrumbNav.15d15e07.js";import{u as Q}from"./useVerDepartamento.d57117b3.js";import{_ as q}from"./LoaderSpinner.e73a4608.js";import{_ as C}from"./FormDepartamento.642c64a6.js";import{d as L}from"./documentosApi.f9b655d1.js";import{u as $}from"./useQueryClient.esm.ef5065e6.js";import{u as b}from"./useMutation.esm.2b00b620.js";import"./useQuery.esm.76380881.js";import"./utils.esm.df383359.js";import"./QCard.cb508ff7.js";import"./use-dark.6d3765c8.js";import"./QForm.f7dbdbf9.js";import"./focus-manager.05708ea9.js";import"./QInput.fb482f67.js";import"./use-key-composition.138705f4.js";import"./uid.42677368.js";import"./use-form.7a2b9d0c.js";import"./errorUtils.9be85d5d.js";import"./axios.a596eead.js";import"./mutation.esm.5dbe1dbb.js";const w=async a=>{try{const{data:r}=await L.patch(`/departamentos/${a.id}`,a);return r}catch(r){throw r}},B=()=>{const a=$(),r=v(null),{mutate:i,isLoading:m,error:o,isSuccess:c}=b(w,{onSuccess:t=>{a.invalidateQueries({queryKey:["departamentos"],exact:!1}),a.setQueryData(["departamentos",t.id],t)},onError:t=>{var s;t.response?r.value=(s=t.response)==null?void 0:s.data:r.value=t}});return{actualizarDepartamento:i,isLoadingMutate:m,error:o,errorServer:r,isSuccess:c}},M={key:2},or=D({__name:"EditarDepartamento",setup(a){const r=h(),{id:i=""}=r.params,m=k(),{departamento:o,isLoading:c}=Q(i+""),{actualizarDepartamento:t,isLoadingMutate:s,error:d,errorServer:l,isSuccess:f}=B(),_=u=>{t(u),f&&m.push({name:"listar-departamento"})},g=[{label:"Departamentos",icon:"account_balance",to:"listar-departamento"},{label:"Editar departamento",icon:"edit"}];return(u,A)=>(n(),p(y,{padding:""},{default:S(()=>[x(E,{pages:g,titlePage:"Editar departamento"}),e(c)?(n(),p(q,{key:0})):e(o)?(n(),p(C,{key:1,departamento:e(o),onGuardar:_,loading:e(s),error:e(d),errorServer:e(l)},null,8,["departamento","loading","error","errorServer"])):(n(),z("div",M,"Ocurri\xF3 un error al cargar"))]),_:1}))}});export{or as default};
