import{Q as q,a as p}from"./QCard.cb508ff7.js";import{Q as k,a as w}from"./QForm.f7dbdbf9.js";import{Q as E}from"./QInput.fb482f67.js";import{Q as _}from"./QSelect.e7df04d7.js";import{v as N,aM as u,c as F,q as l,z as v,t as a,d as s,A as o,B as n,aa as b,u as c,s as g,ar as M,F as P,ab as T,Q as U,ac as z}from"./index.6aee2e30.js";import{g as D}from"./errorUtils.9be85d5d.js";import{u as G}from"./useObtenerCarreras.bd3d3ae0.js";const I=o("div",{class:"fontsize-15 text-weight-light"},"Introduce los datos",-1),L={class:"row q-col-gutter-md"},j={class:"col-12"},A={class:"col-xs-12 col-sm-6"},O=o("span",{class:"required-star"},"*",-1),R={class:"col-xs-12 col-sm-6"},H=o("span",{class:"required-star"},"*",-1),J={class:"col-xs-12 col-sm-6"},K=o("span",{class:"required-star"},"*",-1),W={class:"col-xs-12 col-sm-7"},se=N({__name:"FormProyecto",props:{proyecto:{},loading:{type:Boolean},errorServer:{}},emits:["guardar"],setup(f,{emit:y}){const i=f,r=u(i,"proyecto"),V=u(i,"loading"),d=u(i,"errorServer"),h=d.value,{data:x,isLoading:Q}=G(),S=()=>{y("guardar",r.value)},B=["Banco de Proyectos","Propuesta propia","Trabajador"],C=F(()=>D(d.value));return(X,t)=>(l(),v(q,null,{default:a(()=>[s(p,null,{default:a(()=>[I]),_:1}),s(w,{onSubmit:z(S,["prevent"])},{default:a(()=>[s(p,null,{default:a(()=>[o("div",L,[o("div",j,[d.value?(l(),v(k,{key:0,"inline-actions":"",class:"text-white bg-red"},{default:a(()=>{var e;return[n(b(((e=c(h))==null?void 0:e.message)||"")+" ",1),o("ul",null,[(l(!0),g(P,null,M(C.value,m=>(l(),g("li",{key:m},b(m),1))),128))])]}),_:1})):T("",!0)]),o("div",A,[s(E,{modelValue:r.value.nombre,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value.nombre=e),"label-slot":"",rules:[e=>!!e||"El nombre del proyecto es requerido",e=>e.length>3&&e.length<255||"Debe tener m\xE1s de 3 caracteres y menos de 255"]},{label:a(()=>[n(" Nombre del proyecto "),O]),_:1},8,["modelValue","rules"])]),o("div",R,[s(_,{modelValue:r.value.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value.tipo=e),options:B,label:"G\xE9nero","option-value":"id","option-label":"label","label-slot":"",rules:[e=>!!e||"Selecciona un tipo"]},{label:a(()=>[n(" Tipo de proyecto "),H]),_:1},8,["modelValue","rules"])]),o("div",J,[s(_,{modelValue:r.value.carrera_id,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.carrera_id=e),options:c(x),"label-slot":"","option-value":"id","option-label":"nombre","emit-value":"","map-options":"",rules:[e=>!!e||"Selecciona una carrera"],loading:c(Q)},{label:a(()=>[n(" Carrera "),K]),_:1},8,["modelValue","options","rules","loading"])]),o("div",W,[s(U,{label:"Guardar",color:"primary",type:"submit",loading:V.value},null,8,["loading"])])])]),_:1})]),_:1},8,["onSubmit"])]),_:1}))}});export{se as _};
