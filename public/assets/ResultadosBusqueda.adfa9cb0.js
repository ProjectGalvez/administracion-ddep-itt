import{v as z,aq as B,r as Q,aW as C,w as R,y as A,q as s,z as p,t as a,d as o,A as n,aa as t,u as f,s as m,F as w,ar as F,ap as k,B as i,Q as v,ab as V,aR as L}from"./index.511ce7da.js";import{Q as N}from"./QChip.ec7c10df.js";import{Q as S,a as E}from"./QCard.c27ef320.js";import{Q as P}from"./QPage.30c35a64.js";import{_ as T}from"./BreadcrumbNav.83440b84.js";import{_ as $}from"./LoaderSpinner.276bcf78.js";import{d as D}from"./documentosApi.5a915086.js";import{u as K}from"./useQuery.esm.07b4cbcd.js";import"./use-dark.2ddafa12.js";import"./axios.a596eead.js";import"./useQueryClient.esm.18f38723.js";import"./utils.esm.c4fd8260.js";const U=async _=>{const{data:u}=await D.get("buscar-estudiante",{params:{q:_}});return u},W=_=>{const{isLoading:u,error:d,data:y,refetch:b}=K({queryKey:["buscar-estudiante"],queryFn:()=>U(_)});return{isLoading:u,error:d,data:y,buscar:l=>{_=l,b()}}},j={class:"fontsize-12"},G={key:1},H={class:"flex items-center q-gutter-sm"},I=["src"],J={class:"fontsize-14"},M={key:0},O={key:1},X={key:2},Y={key:2},me=z({__name:"ResultadosBusqueda",setup(_){const u=B(),d=Q(u.query.q||"");C((c,g,r)=>{c.query.q!==d.value&&(d.value=c.query.q||""),r()});const y=[{label:"B\xFAsqueda",icon:"search"}],{isLoading:b,error:q,data:l,buscar:x}=W(d.value+"");return R(d,(c,g)=>{c!==g&&x(c+"")}),(c,g)=>{const r=A("RouterLink");return s(),p(P,{padding:""},{default:a(()=>{var h;return[o(T,{pages:y,titlePage:"Resultados de b\xFAsqueda"}),n("div",j,"Termino buscado: "+t(d.value),1),f(b)?(s(),p($,{key:0})):f(l)&&((h=f(l))==null?void 0:h.length)>0?(s(),m("div",G,[n("small",null,"Se encontraron "+t(f(l).length)+" resultados",1),(s(!0),m(w,null,F(f(l),e=>(s(),p(S,{key:e.id_estudiante,class:"q-mt-sm"},{default:a(()=>[o(E,null,{default:a(()=>[n("div",H,[n("div",null,[e.url_foto?(s(),p(k,{key:0,size:"70px",color:"primary","text-color":"white"},{default:a(()=>[n("img",{src:e.url_foto},null,8,I)]),_:2},1024)):(s(),p(k,{key:1,size:"70px",color:"primary","text-color":"white"},{default:a(()=>[i(t(e.iniciales_nombre_apellido),1)]),_:2},1024))]),n("div",null,[o(r,{to:{name:"ver-estudiante",params:{id:e.id_estudiante}}},{default:a(()=>[n("div",J,t(e.nombre_completo_estudiante)+" ["+t(e.numero_control_estudiante)+"] ",1)]),_:2},1032,["to"]),e.perido_activo===1?(s(),m("div",M,[i(" Esta realizando su residencia en "),o(r,{to:{name:"ver-empresa",params:{id:e.id_empresa}}},{default:a(()=>[i(t(e.nombre_empresa),1)]),_:2},1032,["to"]),i(" en el perido activo "),o(r,{to:{name:"ver-periodo",params:{id:e.id_periodo}}},{default:a(()=>[i(t(e.nombre_periodo),1)]),_:2},1032,["to"]),n("div",null,[o(r,{to:{name:"asignar-documento",params:{id:e.id_estudiante}}},{default:a(()=>[o(v,{size:"sm",color:"secondary",label:"Agregar documentos"})]),_:2},1032,["to"]),o(r,{to:{name:"ver-residente",params:{id:e.id_estudiante}}},{default:a(()=>[o(v,{size:"sm",color:"info",label:"Ver residente"})]),_:2},1032,["to"])])])):e.perido_activo===0?(s(),m("div",O,[i(" Realiz\xF3 su residencia profesional en "),o(r,{to:{name:"ver-empresa",params:{id:e.id_empresa}}},{default:a(()=>[i(t(e.nombre_empresa),1)]),_:2},1032,["to"]),i(" en el perido "),o(r,{to:{name:"ver-periodo",params:{id:e.id_periodo}}},{default:a(()=>[i(t(e.nombre_periodo),1)]),_:2},1032,["to"]),o(r,{to:{name:"ver-residente",params:{id:e.id_estudiante}}},{default:a(()=>[o(v,{size:"sm",color:"info",label:"Ver residente"})]),_:2},1032,["to"])])):e.perido_activo===null?(s(),m("div",X,[o(r,{to:{name:"asignar-residencia",params:{id:e.id_estudiante}}},{default:a(()=>[o(v,{size:"sm",color:"deep-orange",label:"Asignar residencia"})]),_:2},1032,["to"])])):V("",!0),o(r,{to:{name:"ver-carrera",params:{id:e.id_carrera}}},{default:a(()=>[o(N,{style:L({backgroundColor:e.color_carrera}),"text-color":"white"},{default:a(()=>[i(t(e.nombre_carrera),1)]),_:2},1032,["style"])]),_:2},1032,["to"])])])]),_:2},1024)]),_:2},1024))),128))])):(s(),m("div",Y,"No se encontraron resultados"))]}),_:1})}}});export{me as default};
