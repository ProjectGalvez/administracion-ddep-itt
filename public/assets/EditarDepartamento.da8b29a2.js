import{Q as y}from"./QPage.f47cc484.js";import{r as v,v as D,aq as h,x as k,q as n,z as p,t as S,d as x,u as e,s as z}from"./index.b0b93e3c.js";import{_ as E}from"./BreadcrumbNav.fba4b1cf.js";import{u as Q}from"./useVerDepartamento.d36f3775.js";import{_ as q}from"./LoaderSpinner.b1b399dd.js";import{_ as C}from"./FormDepartamento.c1483d5a.js";import{d as L}from"./documentosApi.f427d296.js";import{u as $}from"./useQueryClient.esm.98cf75d6.js";import{u as b}from"./useMutation.esm.16d51942.js";import"./useQuery.esm.ec0861c0.js";import"./utils.esm.728a0fef.js";import"./QCard.4818aad5.js";import"./use-dark.63c149ae.js";import"./QForm.92d7546f.js";import"./focus-manager.05708ea9.js";import"./QInput.11ecb308.js";import"./use-key-composition.18531db8.js";import"./uid.42677368.js";import"./use-form.cb72d743.js";import"./errorUtils.9be85d5d.js";import"./axios.a596eead.js";import"./mutation.esm.2cad5aca.js";const w=async a=>{try{const{data:r}=await L.patch(`/departamentos/${a.id}`,a);return r}catch(r){throw r}},B=()=>{const a=$(),r=v(null),{mutate:i,isLoading:m,error:o,isSuccess:c}=b(w,{onSuccess:t=>{a.invalidateQueries({queryKey:["departamentos"],exact:!1}),a.setQueryData(["departamentos",t.id],t)},onError:t=>{var s;t.response?r.value=(s=t.response)==null?void 0:s.data:r.value=t}});return{actualizarDepartamento:i,isLoadingMutate:m,error:o,errorServer:r,isSuccess:c}},M={key:2},or=D({__name:"EditarDepartamento",setup(a){const r=h(),{id:i=""}=r.params,m=k(),{departamento:o,isLoading:c}=Q(i+""),{actualizarDepartamento:t,isLoadingMutate:s,error:d,errorServer:l,isSuccess:f}=B(),_=u=>{t(u),f&&m.push({name:"listar-departamento"})},g=[{label:"Departamentos",icon:"account_balance",to:"listar-departamento"},{label:"Editar departamento",icon:"edit"}];return(u,A)=>(n(),p(y,{padding:""},{default:S(()=>[x(E,{pages:g,titlePage:"Editar departamento"}),e(c)?(n(),p(q,{key:0})):e(o)?(n(),p(C,{key:1,departamento:e(o),onGuardar:_,loading:e(s),error:e(d),errorServer:e(l)},null,8,["departamento","loading","error","errorServer"])):(n(),z("div",M,"Ocurri\xF3 un error al cargar"))]),_:1}))}});export{or as default};
