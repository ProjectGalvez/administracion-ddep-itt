import{Q as f}from"./QPage.f47cc484.js";import{r as d,v as g,x as v,q as c,z as D,t as y,d as u,u as s,s as C,aa as S,ab as b}from"./index.b0b93e3c.js";import{_ as h}from"./BreadcrumbNav.fba4b1cf.js";import{_ as k}from"./FormDepartamento.c1483d5a.js";import{d as w}from"./documentosApi.f427d296.js";import{u as x}from"./useQueryClient.esm.98cf75d6.js";import{u as Q}from"./useMutation.esm.16d51942.js";import"./QCard.4818aad5.js";import"./use-dark.63c149ae.js";import"./QForm.92d7546f.js";import"./focus-manager.05708ea9.js";import"./QInput.11ecb308.js";import"./use-key-composition.18531db8.js";import"./uid.42677368.js";import"./use-form.cb72d743.js";import"./errorUtils.9be85d5d.js";import"./axios.a596eead.js";import"./utils.esm.728a0fef.js";import"./mutation.esm.2cad5aca.js";const q=async r=>{try{const{data:e}=await w.post("/departamentos",r);return e}catch(e){throw e}},B=()=>{const r=x(),e=d(null),{mutate:n,isLoading:i,error:m,isSuccess:a}=Q(q,{onSuccess:t=>{r.invalidateQueries({queryKey:["departamentos"],exact:!1}),r.setQueryData(["departamentos",t.id],t)},onError:t=>{var o;t.response?e.value=(o=t.response)==null?void 0:o.data:e.value=t}});return{crearDepartamento:n,isLoadingMutate:i,error:m,errorServer:e,isSuccess:a}},L={key:0},X=g({__name:"CrearDepartamento",setup(r){const e=v(),n=d({id:0,nombre:"",nombre_titular:"",apellidos_titular:"",created_at:new Date,updated_at:new Date}),{crearDepartamento:i,isLoadingMutate:m,error:a,errorServer:t,isSuccess:o}=B(),l=p=>{i(p),o&&e.push({name:"listar-departamento"})},_=[{label:"Departamentos",icon:"account_balance",to:"listar-departamento"},{label:"Crear departamento",icon:"add_circle_outline"}];return(p,M)=>(c(),D(f,{padding:""},{default:y(()=>[u(h,{pages:_,titlePage:"Registrar departamento"}),s(a)?(c(),C("div",L,S(s(a)),1)):b("",!0),u(k,{departamento:n.value,onGuardar:l,loading:s(m),errorServer:s(t)},null,8,["departamento","loading","errorServer"])]),_:1}))}});export{X as default};
